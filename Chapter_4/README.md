## 练习4.1

> 表达式`5 + 10 * 20 / 2`的求值结果是多少？

105

## 练习4.2

> 根据4.12节中的表，在下面表达式的合理位置添加括号，使得添加括号后运算对象的组合顺序与添加括号前一致。

```cpp
(a) *vec.begin()       //*(vec.begin())
(b) *vec.begin() + 1   // (*(vec.begin())) + 1
```

## 练习4.3

> C++语言没有明确规定大多数二元运算符的求值顺序，给编译器优化留下了余地。这种策略实际上是在代码生成效率和程序潜在缺陷之间进行了权衡，你认为这可以接受吗？请说出你的理由。

可以接受，因为C++的优势就是执行效率，有时我们需要编译器的特性来进行有效的工作。

**Note**

优先级只是规定了运算对象的组合方式，但并没有说明运算对象的求值顺序，比如`int i = f1() * f2();`, 我们不知道f1和f2的调用顺序。由于`<<`运算符没有明确规定何时以及如何对运算对象求值，故下列输出表达式是未定义的，故无法推断其行为；

```cpp
int i = 0;
cout << i << " " << ++i << endl; // 未定义地
```

**算数运算符**

* 布尔值不应该参与算术运算，因为非算数类型在运算时会转换为能进行算数类型的类型， `bool b = true; bool b2 = -b;`b2的值为true， 因为b参与运算时会提升为整数值1，取负值后为-1，再将-1转换为布尔值作为b2的初始值，显然不等于0，转换为布尔值应该为1，故b2为true。


* 若m%n不为0，则值的符号与m相同

## 练习4.4

> 在下面的表达式中添加括号，说明其求值的过程以及最终结果。编写程序编译该（不加括号的）表达式并输出其结果验证之前的推断。

```cpp
12 / 3 * 4 + 5 * 15 + 24 % 4 / 2  // ((12 / 3) * 4) + (5 * 15) + ((24 % 4) / 2)
```

结果为91

## 练习4.5

> 写出下列表达式的求值结果

```cpp
(a) -30 * 3 + 21 / 5;  // -86
(b) -30 + 3 * 21 / 5;  // -18
(c) 30 / 3 * 21 % 5;  // 0
(d) -30 / 3 * 21 % 4; // -2
```

## 练习4.5

> 写出一条表达式用于确定一个整数是奇数还是偶数。

```cpp
num % 2 == 0 ? "even" : "odd";
```

## 练习4.7

> 溢出是何含义？写出三条将导致溢出的表达式。

```cpp
(a) 10 / 0;
(b) short a = 32768;
(c) unsigned ua = -1;
```

算数表达式可能会产生未定义的结果。一部分原因是数学性质本身，比如除数为0；另外一部分则源于计算机的特点：例如溢出，当计算的结果超出该类型所能表示的范围时就会产生溢出。